<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity4">
<body>

<nav class="navbar navbar-default navbar-fixed-top" data-layout-fragment="header">

  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false" aria-controls="navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <a class="navbar-brand" th:href="@{/}">Flayon</a>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li sec:authorize="isAuthenticated()"><a th:href="@{/video}">Video</a></li>
        <li sec:authorize="isAuthenticated()"><a th:href="@{/image}">Picture</a></li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li sec:authorize="!isAuthenticated()"><a class="btn" th:href="@{/login}" id="loginBtn">Login</a></li>
        <li class="dropdown" sec:authorize="isAuthenticated()">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
            Utility
            <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li class="dropdown-header">Management</li>
            <li><a th:href="@{/flayon/requestMappingList}">Request Mapping</a></li>
            <li><a th:href="@{/flayon/memory}">Memory</a></li>
            <li><a th:href="@{/flayon/threaddump}">Thread dump</a></li>
            <li><a th:href="@{/flayon/webcontext}">Web attribute</a></li>
            <li><a th:href="@{/flayon/error}">Error</a></li>
            <li class="divider"></li>
            <li class="dropdown-header">Utility</li>
            <li><a th:href="@{/flayon/colors}">Standard color</a></li>
            <li><a th:href="@{/flayon/portscan}">Port scan</a></li>
            <li><a th:href="@{/flayon/logviewt}">Log view</a></li>
          </ul>
        </li>
        <li class="dropdown" sec:authorize="isAuthenticated()">
          <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
            <span sec:authentication="name">Username</span>
            <span class="caret"></span></a>
          <ul class="dropdown-menu" role="menu">
            <li><a th:href="@{/user/profile}">User Profile</a></li>
            <li><a data-th-href="@{/logout}">Log out</a></li>
            <li class="divider" sec:authorize="hasAuthority('ADMIN')"></li>
            <li class="dropdown-header" sec:authorize="hasAuthority('ADMIN')">admin menu</li>
            <li><a data-th-href="@{/user}" sec:authorize="hasAuthority('ADMIN')">Users</a></li>
            <li><a data-th-href="@{/h2console}" target="_blank" sec:authorize="hasAuthority('ADMIN')">H2 Console</a></li>
          </ul>
        </li>
      </ul>
    </div><!--/.nav-collapse -->
  </div>
  
</nav>

</body>
</html>
